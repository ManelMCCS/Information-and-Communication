Troca de pacotes

Num aplicativo de rede, os sistemas finais trocam mensagens entre si. As mensagens podem conter tudo o que o designer do aplicativo deseja. As mensagens podem executar uma função de controle (por exemplo, as mensagens “Hi” em nosso exemplo de handshaking na Figura 1.2) ou podem conter dados, como uma mensagem de e-mail, uma imagem JPEG ou um arquivo de áudio MP3. Para enviar uma mensagem de um sistema final de origem para um sistema final de destino, a fonte divide as mensagens longas em pedaços menores de dados, conhecidos como pacotes. Entre a origem e o destino, cada pacote viaja através de links de comunicação e switches de pacote (para os quais existem dois tipos predominantes, roteadores e switches da camada de link). Os pacotes são transmitidos através do link de comunicação a uma taxa igual à taxa de transmissão total do link. Portanto, se um sistema de extremidade de origem ou um switch de pacote está enviando um pacote de L bits por um link com taxa de transmissão R bits / s, o tempo para transmitir o pacote é L࣯ / ࣰR segundos. -and-forward transmissão nas entradas para os links. A transmissão de armazenamento e encaminhamento significa que o switch de pacotes deve receber o pacote inteiro antes de começar a transmitir o primeiro bit do pacote para o link de saída. Para explorar a transmissão store-and-forward em mais detalhes, considere uma rede simples que consiste em dois sistemas finais conectados por um único roteador, conforme mostrado na Figura 1.11. Um roteador normalmente terá muitos links de incidentes, já que seu trabalho é alternar um pacote de entrada para um link de saída; neste exemplo simples, o roteador tem a tarefa bastante simples de transferir um pacote de um link (de entrada) para o único outro link anexado. Neste exemplo, a origem tem três pacotes, cada um consistindo em L bits, para enviar ao destino. No instantâneo de tempo mostrado na Figura 1.11, a fonte transmitiu parte do pacote 1 e a frente do pacote 1 já chegou ao roteador. Como o roteador emprega armazenamento e encaminhamento, neste instante de tempo, o roteador não pode transmitir os bits que recebeu; em vez disso, deve primeiro armazenar em buffer (ou seja, "armazenar") os bits do pacote. Somente após o roteador ter recebido todos os bits do pacote, ele pode começar a transmitir (ou seja, "encaminhar") o pacote para o link de saída. Para obter algumas informações sobre a transmissão armazenar e encaminhar, vamos agora calcular a quantidade de tempo que decorre desde o momento em que a fonte começa a enviar o pacote até que o destino tenha recebido o pacote inteiro. (Aqui, ignoraremos o retardo de propagação - o tempo que leva para os bits percorrerem o fio próximo à velocidade da luz - que será discutido na Seção 1.4.) A fonte começa a transmitir no tempo 0; no tempo L / R segundos, a origem transmitiu o pacote inteiro e o pacote inteiro foi recebido e armazenado no roteador (já que não há atraso de propagação). No tempo L / Rsegundos, uma vez que o roteador acabou de receber o pacote inteiro, ele pode começar a transmitir o pacote no link de saída em direção ao destino; no tempo 2L / R, o roteador transmitiu todo o pacote, e o
pacote inteiro foi recebido pelo destino. Assim, o atraso total é 2L / R. Se, em vez disso, o comutador de pacote armazenar e encaminhar Figura 1.11 encaminhar os bits assim que eles chegarem (sem primeiro receber o pacote inteiro), o atraso total seria L / R, pois os bits não são retidos no roteador. Mas, como discutiremos na Seção 1.4, os roteadores precisam receber, armazenar e processar o pacote inteiro antes de encaminhá-lo. Agora, vamos calcular a quantidade de tempo que decorre desde quando a fonte começa a enviar o primeiro pacote até que o destino tenha recebido todos os três pacotes. Como antes, no momento L / R, o roteador começa a encaminhar o primeiro pacote. Mas também no momento L / R a fonte começará a enviar o segundo pacote, uma vez que acaba de enviar todo o primeiro pacote. Assim, no tempo 2L / R, o destino recebeu o primeiro pacote e o roteador recebeu o segundo pacote. Da mesma forma, no tempo 3L / R, o destino recebeu os primeiros dois pacotes e o roteador recebeu o terceiro pacote. Finalmente, no tempo 4L / R o destino recebeu todos os três pacotes! Vamos agora considerar o caso geral de enviar um pacote da origem ao destino através de um caminho que consiste em N links, cada um da taxa R (assim, há N-1 roteadores entre a origem e destino). Aplicando a mesma lógica acima, vemos que o atraso de ponta a ponta é: Você pode agora querer tentar determinar qual seria o atraso para pacotes P enviados por uma série de Nlinks. Atrasos de sequência e Perda de pacote o switch de pacotes tem vários links anexados a ele. Para cada link anexado, o switch de pacote tem um buffer de saída (também chamado de fila de saída), que armazena os pacotes que o roteador está prestes a enviar para esse link. Os buffers de saída desempenham um papel fundamental na comutação de pacotes. Se um pacote que chega precisa ser transmitido para um link, mas encontra o link ocupado com a transmissão de outro pacote, o pacote que chega deve esperar no buffer de saída. Assim, além disso